<mvc:View xmlns="sap.m" 
		  xmlns:l="sap.ui.layout"
		  xmlns:f="sap.ui.layout.form"
		  xmlns:mvc="sap.ui.core.mvc"
		  xmlns:core="sap.ui.core"
		  xmlns:gridTable="sap.ui.table"
  	      xmlns:smartFilterBar="sap.ui.comp.smartfilterbar" 
		  xmlns:smartTable="sap.ui.comp.smarttable" 
  		  xmlns:plugins="sap.m.plugins"		  
		  controllerName="project2.project2.controller.Master">
	<Page xmlns="sap.m" id="pageId" title="Page Title" floatingFooter="true">
	    <headerContent>
	        <Button icon="sap-icon://action" tooltip="Share" id="button0"/>
	    </headerContent>
	    <content>
			<VBox id="vbox2" class="sapUiSmallMargin" visible="{UIControlModel>/visibleControl}">
				<Input width="100%" id="inputMyFooBar" value="Hi" visible="{UIControlModel>/visibleControl}"/>
				<Button text="{i18n>MasterView.ClickToCallMyFooBar}" width="auto" id="__button0" 
				        press=".onClickCallMyFooBar"
						visible="{UIControlModel>/visibleControl}"/>
				<Label text="" id="labelMyFooBar" visible="{UIControlModel>/visibleControl}"/>
			</VBox>
	        <VBox id="vbox0" class="sapUiSmallMargin">
	            <Text text=""/>
                <smartFilterBar:SmartFilterBar id="smartFilterBar" 
				                               entitySet="StudentSrv"
											   persistencyKey="SmartFilterPKey">
					<smartFilterBar:controlConfiguration>
						<smartFilterBar:ControlConfiguration
								key="full_name" label="{i18n>MasterView.FullName}">
						</smartFilterBar:ControlConfiguration>
					</smartFilterBar:controlConfiguration>
                </smartFilterBar:SmartFilterBar>
                <smartTable:SmartTable id="smartTable_ResponsiveTable" 
									   class="sapUiSizeCompact"
				                       smartFilterId="smartFilterBar" 
									   placeToolbarInTable="true"
									   tableType="ResponsiveTable"
									   enableAutoColumnWidth="true"
									   editable="false" 
									   entitySet="StudentSrv" 
									   useTablePersonalisation="true" 
									   enableAutoBinding="true"
									   header="Students" 
									   demandPopin="true"
									   requestAtLeastFields="first_name, last_name" 
									   persistencyKey="SmartTablePKey"> 
					<!-- layout data used to make the table growing but the filter bar fixed -->
					<smartTable:customToolbar>
						<OverflowToolbar design="Transparent">
							<ToolbarSpacer/>
							<OverflowToolbarButton text="Test"/>
							<OverflowToolbarButton icon="sap-icon://add"    
							           			   tooltip="Create a new student entry" 
												   text="Create"
												   press="onOpenCreateStudentDialog"/>
						</OverflowToolbar>
					</smartTable:customToolbar>
					<Table
					    selectionChange=".onRowPress"
						mode="SingleSelectMaster"
						id="oTable">
						<dependents>
							<plugins:ColumnResizer />
						</dependents>
						<columns>
							<Column id="first_name" hAlign="Begin">
								<customData>
									<core:CustomData key="p13nData"
										value='\{"columnKey": "first_name", "autoColumnWidth": \{ "visibleProperty": "first_name" }, "columnIndex": 2, "leadingProperty": "first_name", "sortProperty": "first_name", "additionalProperty": "Name1", "description": "Name1", "displayBehaviour": "descriptionOnly", "width": "360px"}' />
								</customData>
								<Text text="First Name" />
							</Column>
							<Column id="last_name" hAlign="Begin">
								<customData>
									<core:CustomData key="p13nData"
										value='\{"columnKey": "last_name", "autoColumnWidth": true, "maxLength": 5,"columnIndex":4, "isCurrency": true, "leadingProperty": "last_name", "sortProperty": "last_name", "type": "numeric", "unit": "Hwaer"}' />
								</customData>
								<Text text="Last Name" />
							</Column>							
						</columns>
						<items>
							<!-- Table Navigation -->
							<ColumnListItem>
								<cells>
									<Button
										activeIcon=""
										icon=""
										text="{first_name}"
										press=".onButtonPress"
									/>
									<!-- <Input value="{first_name}" editable="false"/> -->
								</cells>
								<cells>
									<Input value="{last_name}" editable="false"/>
								</cells>
							</ColumnListItem>
						</items>
					</Table>
                </smartTable:SmartTable>	            
	        </VBox>
	        <VBox id="vbox1" class="sapUiSmallMargin">
	            <Text text="Second VBox" visible="{UIControlModel>/visibleControl}"/>
				<List
					items="{/StudentSrv}"
					headerText="Students"
					growing="true"
					growingThreshold="4"
					growingScrollToLoad="false"
					visible="{UIControlModel>/visibleControl}">
					<items>
						<CustomListItem>
							<FlexBox justifyContent="SpaceBetween">
								<Text text="{email}"/>
								<CheckBox/>
							</FlexBox>
							<FlexBox justifyContent="SpaceBetween">
								<Text text="{first_name}"/>
								<CheckBox/>
							</FlexBox>
						</CustomListItem>
					</items>
				</List>
	        </VBox>
			<VBox id="vbox3" class="sapUiSmallMargin" visible="{UIControlModel>/visibleControl}">
				<Button text="{i18n>MasterView.TestCatalogService}" width="auto" 
				        press=".onClick"/>
				<f:SimpleForm
					id="sfBooks"
					layout="ResponsiveLayout"
					title="One book"
					editable="false"
					width="auto"
				>
					<f:content>
						<Label text="Book ID" />
						<Input value="{bookModel>ID}" />
						<Label text="Book title" />
						<Input value="{bookModel>title}" />
						<Label text="Book author ID" />
						<Input value="{bookModel>author_ID}" />
						<Label text="Stock" />
						<Input value="{bookModel>stock}" />
					</f:content>
					<f:title>
					</f:title>
					<f:toolbar>
					</f:toolbar>
				</f:SimpleForm>
			</VBox>
	    </content>
	    <footer>
	        <OverflowToolbar id="toolbar2" visible="{UIControlModel>/visibleControl}">
	            <ToolbarSpacer/>
	            <Button type="Accept" text="Accept" visible="false"/>
	        </OverflowToolbar>
	    </footer>
	</Page>
</mvc:View>